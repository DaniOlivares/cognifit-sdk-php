# cognifit-sdk-php

## Description

## Reference

### Health Check

```PHP
use CognifitSdk\Api\HealthCheck;

$cognifitApiHealthCheck = new HealthCheck(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);
$response = $cognifitApiHealthCheck->getInfo();

if(!$response->hasError()){
    
}
```

### User registration



#### Create new user account

```PHP
use CognifitSdk\Api\UserAccount;
use CognifitSdk\Lib\UserData;

$userName               = 'Joe';
$userEmail              = 'joe@example.com';
$userBirth              = '1981-07-15';
$locale                 = 'en';
$userPassword           = 'RANDOM_PASSWORD_OR_USER_KNOWN_PASSWORD';
$cognifitApiUserAccount = new UserAccount(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);
$response = $cognifitApiUserAccount->registration(new UserData([
    'user_name'     => $userName,
    'user_email'    => $userEmail,
    'user_birthday' => $userBirth,
    'user_locale'   => $locale,
    'user_password' => $userPassword 
]));

if(!$response->hasError()){
    $cognifitUserToken = $response->get('user_token');
    if($cognifitUserToken){
        // Save this user_token for future requests 
    }
}
```

#### Associate existing user account

If the user already exists in CogniFit, their account can be associated. Redirect the user to the url returned by this method.

If the user accepts to associate the CogniFit accout with the partner, the user_token will be sent back to the callback_url provided.

The callback_url must be one of the callback urls communicated to CogniFit when the partner was created.

State parameter is a hash generated by the partner. This value will be added to the callback response.

```PHP
use CognifitSdk\Api\UserAccount;

$cognifitApiUserAccount = new UserAccount(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);

$userEmail = 'joe@example.com';
$callbackUrl = '';
$stateHash = 'RANDOM';

$response = $cognifitApiUserAccount->getAssociateExistingUserAccountUrl(
    $userEmail,
    $callbackUrl,
    $stateHash 
);

if(!$response->hasError()){
    $cognifitUserToken = $response->get('user_token');
    if($cognifitUserToken){
        // Save this user_token for future requests 
    }
}
```

### User authentication

#### Issue user access token

```PHP
use CognifitSdk\Api\UserAccessToken;

$cognifitUserToken          = 'USER_TOKEN';
$cognifitApiUserAccessToken = new UserAccessToken(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);
$response = $cognifitApiUserAccessToken->issue($cognifitUserToken);
if(!$response->hasError()){
    return $response->get('access_token');
}
```

#### Use access token to access CogniFit

```PHP
use CognifitSdk\Api\UserStartSession;

$cognifitStartSession = new UserStartSession(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX'),
    env('COGNIFIT_HASH')
);

$userAccessToken    = 'USER_ACCESS_TOKEN';
$callbackUrl        = '';

$url = $cognifitStartSession->getUrl($userAccessToken, $callbackUrl);

```

### User manager

#### Update user account
#### User activation
#### User deactivation
#### User grant training subscription
#### User cancel training subscription
#### User account deletion


### Cognitive assessments

#### Assessments list


### Brain training Programs

#### Training list


### Brain Games
#### Brain Game list


### Set training program
#### Login & Launch


### Set tasks program
#### Login & Launch


### Activity and evolution report
#### Get Historical Skills

```PHP
use CognifitSdk\Api\UserActivity;

$cognifitUserToken       = 'USER_TOKEN';
$cognifitApiUserActivity = new UserActivity(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);
$response = $cognifitApiUserActivity->getHistoricalScoreAndSkills($cognifitUserToken);
if(!$response->hasError()){
    
}

```

#### Get Played Games

```PHP
use CognifitSdk\Api\UserActivity;

$cognifitUserToken       = 'USER_TOKEN';
$cognifitApiUserActivity = new UserActivity(
    env('COGNIFIT_CLIENT_ID'),
    env('COGNIFIT_CLIENT_SECRET'),
    env('COGNIFIT_API_SANDBOX')
);
$response = $cognifitApiUserActivity->getPlayedGames($cognifitUserToken);
if(!$response->hasError()){
    
}
```

